\documentclass[12pt, a4paper]{article}
\usepackage[a4paper, left=2cm, right=2cm, top=3cm, bottom=3cm]{geometry}

\usepackage[english]{babel}
\usepackage[utf8]{inputenc}
\usepackage{fancyhdr}

\usepackage{enumitem}
\usepackage{amsmath}
\usepackage{mathtools}
\usepackage{listings}

\usepackage{tikz}
\usetikzlibrary{arrows.meta,shapes.multipart}

\pagestyle{fancy}
\fancyhf{}
\lhead{Tutorium 02 \\ Abgabegruppe 01}
\chead{Blatt 05 \\ DatKom}
\rhead{Andrés Montoya, 405409 \\ Til Mohr, 405959}

\begin{document}

\begin{center}\fcolorbox{red}{yellow}{\begin{minipage}{35em}
	Bei uns war ursprünglich noch ein Dritter in unserer Abgabegruppe eingeteilt. Wir haben ihn vor über einer Woche versucht per E-Mail zu erreichen, leider erfolglos.\\
	Nach Ablauf der Anmeldefrist zu den Abgabegruppen haben wir gesehen, dass diese Person leider unsere Abgabegruppe verlassen hat.\\
	Bisher konnten wir noch keinen Dritten für unsere Abgabegruppe finden.\\
	Uns wurde auch seit dem letzten Blatt keine weitere Person zugeteilt.
\end{minipage}}\end{center}



\section*{Aufgabe 4.1}
\begin{enumerate}[label=\alph*)]
	\item	\begin{enumerate}[label=\roman*)]
				\item	\begin{enumerate}[label=\arabic*.]
							\item		$$4 \cdot 2 \cdot 2.5 \text{m} + 2 \cdot 5 \text{m} + 2 \cdot 1 \text{m} = 32 \text{m}$$
							\item[2.+3.]$$4 \cdot (2.5 \text{m} + 0.5 \text{m}) + 4 \cdot 2.5 \text{m} = 22 \text{m}$$
						\end{enumerate}
				\item	\begin{enumerate}[label=\arabic*.]
							\item		$21 \text{octets} \hat{=} 21 \text{Bytes}$
							\item[2.+3.]Maximale  Netzlänge: $\frac{22 \text{m}}{2} = 11 \text{m}$ \\
										Slot-Time: $\frac{11 \text{m}}{2 \cdot 10^8 \text{m/s}} = 5.5 \cdot 10^{-8} \text{s}$ \\
										Maximale Rahmenlänge: $10 \cdot 10^9 \text{bit/s} \cdot 5.5 \cdot 10^{-8} \text{s} = 550 \text{bit} \Rightarrow 69 \text{Byte}$
						\end{enumerate}
				\item	\begin{enumerate}[label=\arabic*.]
							\item		Mittlere Wartezeit von Sendewunsch zu Senderecht, wenn Token gegenüber von $A$, also bei $D$ liegt.\\
										Übertragungszeit vom Token von $D$ zu $B$: $tu_{d-b} \coloneqq \frac{6 \text{m}}{2 \cdot 10^8 \text{m/s}} + \frac{24 \text{bit}}{10 \cdot 10^9 \text{bit/s}} = 3 \cdot 10^{-8} \text{s} + 2.4 \cdot 10^{-9} \text{s} = 3.24 \cdot 10^{-8} \text{s}$\\
										Übertragungszeit vom Token von $B$ zu $A$: $tu_{b-a} \coloneqq \frac{10 \text{m}}{2 \cdot 10^8 \text{m/s}} + \frac{24 \text{bit}}{10 \cdot 10^9 \text{bit/s}} = 5 \cdot 10^{-8} \text{s} + 2.4 \cdot 10^{-9} \text{s} = 7.4 \cdot 10^{-8} \text{s}$\\
										
										Übertragungszeit vom Rahmen von $A$ zu $C$: $u_{a-c} \coloneqq \frac{6 \text{m}}{2 \cdot 10^8 \text{m/s}} + \frac{168 \text{bit}}{10 \cdot 10^9 \text{bit/s}} = 3 \cdot 10^{-8} \text{s} + 1.68 \cdot 10^{-8} \text{s} = 4.68 \cdot 10^{-8} \text{s}$\\
										Übertragungszeit vom Rahmen von $C$ zu $D$: $u_{c-d} \coloneqq \frac{10 \text{m}}{2 \cdot 10^8 \text{m/s}} + \frac{168 \text{bit}}{10 \cdot 10^9 \text{bit/s}} = 5 \cdot 10^{-8} \text{s} + 1.68 \cdot 10^{-8} \text{s} = 6.18 \cdot 10^{-8} \text{s}$\\
										
										Mittlere Zeit vom Sendewunsch zum vollständigen Empfang: $tu_{d-b} + tu_{b-a} + u_{a-c} + u_{c-d} = 21.5 \cdot 10^{-8} \text{s}$
										
							\item[2.+3.]$5.5 \cdot 10^{-8} \text{s} + \frac{552 \text{bit}}{10 \cdot 10^9 \text{bit/s}} = 1.102 \cdot 10^{-7} \text{s}$
						\end{enumerate}
				\item	\begin{enumerate}[label=\arabic*.]
							\item	Kreissendezeit (Rahmen einmal im Ring): $ks \coloneqq 2 \cdot (u_{a-c} + u_{c-d}) = 21.72 \cdot 10^{-8} \text{s}$ \\
									
									Wartezeit, wenn $B$ gerade sendet: $wu_b \coloneqq ks + tu_{b-a} = 29.12 \cdot 10^{-8} \text{s}$ \\
									Wartezeit, wenn $C$ gerade sendet: $wu_c \coloneqq ks + tu_{b-a} + tu_{d-b} + wu_b = 61.38 \cdot 10^{-8} \text{s}$ \\
									
									Mittlere Wartezeit: $wu \coloneqq \frac{wu_b + wu_c}{2} = 45.3 \cdot 10^{-8} \text{s}$ \\
									Mittlere Zeit vom Sendewunsch zum vollständigen Empfang: $wu + u_{a-c} + u_{c-d} = 56.16 \cdot 10^{-8} \text{s}$
				
							\item	Wenn $B$ und $C$ nicht durch BEB gebremst werden, dann erfährt nur $A$ permanent Kollision, weshalb $A$ nach der 16 Kollision laut Vorlesung den Rahmen verwirft. Dementsprechend kommt das Paket nie an.
							\item	$5.5 \cdot 10^{-8} \text{s} + \frac{552 \text{bit}}{10 \cdot 10^9 \text{bit/s}} = 1.102 \cdot 10^-7 \text{s}$\\
									Aufgrund des Switches entstehen hier keine Kollisionen.
						\end{enumerate}	
			\end{enumerate}
	\item	
\end{enumerate}


\newpage


\section*{Aufgabe 4.2}
\begin{enumerate}[label=\alph*)]
	\item	$$\frac{64 \cdot 10 \text{Gbit/s}}{10 \text{ms}} \hat{=} \frac{640 \cdot 10^9 \text{bit/s}}{10^{-2} \text{s}} = 6.4 \cdot 10^9 \text{bit} \hat{=} 6.4 \text{Gbit}$$
	\item	Latenz $AC-FA$: $l_{ac-fa} \coloneqq \frac{200 \text{km}}{200000 \text{km/s}} = 0.001 \text{s}$ \\
			Latenz $FA-NY$: $l_{fa-ny} \coloneqq \frac{6135 \text{km}}{200000 \text{km/s}} = 0.030675 \text{s}$ \\
			Latenz $NY-SF$: $l_{ny-sf} \coloneqq \frac{4000 \text{km}}{200000 \text{km/s}} = 0.02 \text{s}$ \\
			
			$L=1400 \text{Byte} \hat{=} 11200 \text{bit}$, Queue $1.5 \text{MB} \hat{=} 12 \cdot 10^6 \text{bit}$: \\
			Übertragungszeit $AC-FA$: $u_{ac-fa} \coloneqq l_{ac-fa} + \frac{11200 \text{bit}}{1 \cdot 10^9 \text{bit/s}} = l_{ac-fa} + 0.0000112 \text{s} = 0.0010112 \text{s}$ \\
			Übertragungszeit $FA-NY$: $u_{fa-ny} \coloneqq l_{fa-ny} + \frac{11200 \text{bit}}{1 \cdot 10^9 \text{bit/s}} = l_{ac-fa} + 0.0000112 \text{s} = 0.0306862 \text{s}$ \\
			Übertragungszeit $NY-SF$: $u_{ny-sf} \coloneqq l_{ny-sf} + \frac{11200 \text{bit}}{10 \cdot 10^6 \text{bit/s}} = l_{ac-fa} + 0.00112 \text{s} = 0.02112 \text{s}$ \\
			Sendezeit Queue $NY-SF$: $qs_{ny-sf} \coloneqq \frac{12 \cdot 10^6 \text{bit}}{10 \cdot 10^6 \text{bit/s}} = 1.2 \text{s}$\\
			
			Wartedauer $800 \text{ns} \hat{=} 8 \cdot 10^{-7} \text{s}$
			Gesamtübertragung $AC-NY$: $gu_{ac-ny} \coloneqq u_{ac-fa} + (u_{fa_ny} + 8 \cdot 10^{-7} \text{s}) + 8 \cdot 10^{-7} \text{s} = 0.031699 \text{s}$.
			Da $qs_{ny-sf} > gu_{ac-ny}$, wird das Paket noch $qs_{ny-sf} - gu_{ac-ny}$ in $NY$ gequeued. Das letze Bit vom Paket tritt also nach $gu_{ac-sf} \coloneqq qs_{ny-sf} + u_{ny-sf} = 1.2 \text{s} + 0.02112 \text{s} = 1.22112 \text{s}$ ein.
	\item	$L'_{ny-sf} \coloneqq L + 192 \text{bit} = 11392 \text{bit}$, Queue $1.5 \text{MB} + 1500 \cdot 192 \text{bit} \hat{=} 12288 \cdot 10^3 \text{bit}$: \\
			$u'_{ny-sf} \coloneqq l_{ny-sf} + \frac{11392 \text{bit}}{10 \cdot 10^6 \text{bit/s}} = l_{ac-fa} + 0.0011392 \text{s} = 0.0211392 \text{s}$ \\
			$qs'_{ny-sf} \coloneqq \frac{12288 \cdot 10^3 \text{bit}}{10 \cdot 10^6 \text{bit/s}} = 1.2288 \text{s}$\\
			
			Da $gs'_{ny-sf} > gu_{ac-ny}$ wird das Paket trotzdem noch gequeued. Die neue totale Übertragungszeit beträgt $gu'_{ac-sf} \coloneqq qs'_{ny-sf} + u'_{ny-sf} = 1.2288 \text{s} + 0.0211392 \text{s} = 1.2499392 \text{s}$
	\item	Der Anfangszeitpunkt steigt, da wir nun $18500$ weitere $192 \text{bit}$ übertragen müssen:\\
			Queue $L'_{ny-sf} + 5000 \cdot 192 \text{bit} = 1.5 \text{MB} + 20000 \cdot 192 \text{bit} \hat{=} 15840000 \text{bit}$
			$gs''_{ny-sf} \coloneqq \frac{15840000 \text{bit}}{10 \cdot 10^6 \text{bit/s}} = 1.584 \text{s}$.\\
			Also trifft das letzte Bit unseres Paketes nach $gu''_{ac-sf} \coloneqq qs''_{ny-sf} + u'_{ny-sf} = 1.584 \text{s} + 0.0211392 \text{s} = 1.6051392 \text{s}$ ein.
\end{enumerate}

\end{document}